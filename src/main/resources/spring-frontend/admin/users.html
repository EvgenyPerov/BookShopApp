<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Страница модерации пользователей</title>
    <meta name="description" content="Описание страницы">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    <link href="/favicon.ico" rel="shortcut icon">
    <link rel="preload" href="/assets/fonts/Montserrat/Montserrat-SemiBold.woff2" as="font" crossorigin="anonymous">
    <link rel="preload" href="/assets/fonts/Montserrat/Montserrat-Light.woff2" as="font" crossorigin="anonymous">
    <link rel="preload" href="/assets/fonts/Montserrat/Montserrat-Medium.woff2" as="font" crossorigin="anonymous">
    <link rel="preload" href="/assets/fonts/Montserrat/Montserrat-ExtraBold.woff2" as="font" crossorigin="anonymous">
    <link rel="stylesheet" href="/assets/css/fonts.min.css?v=93601584">
    <link rel="stylesheet" href="/assets/css/basic.min.css?v=93601584">
    <link rel="stylesheet" href="/assets/css/extra.min.css?v=93601584">
    <link rel="stylesheet" href="/webjars/bootstrap/4.0.0-2/css/bootstrap.min.css "/>
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
    <script defer="" src="/assets/js/scripts.min.js?v=93601584"></script>

    <style>
        .image-button {
            width: 50px;
            height: 50px;
            border: none;
        }
        .image-button:hover {
            border: 1px solid #1e7e34;
        }
    </style>

</head>
<body class="Site">
<header class="Header">
    <div class="Header-rowMain">
        <div class="wrap">
            <div class="row">
                <div class="row-block Header-logo">
                    <div class="logo"><img class="logo-image"  src="/assets/img/logo.png" alt="logo.png"/>
                    <span class="logo-text" >BOOKSHOP</span>  </div>
                </div>  `
                <div class="Header-searchLink">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19">
                        <g>
                            <g>
                                <path fill="#b8b8b8"
                                      d="M17.812 17.852c.25.268.25.69 0 .948a.622.622 0 0 1-.457.2.64.64 0 0 1-.457-.2l-5.364-5.494a7.07 7.07 0 0 1-4.32 1.47C3.232 14.777 0 11.457 0 7.389 0 3.321 3.232 0 7.214 0c3.983 0 7.214 3.32 7.214 7.388 0 1.94-.74 3.7-1.926 5.015zM7.214 13.44c3.264 0 5.909-2.708 5.909-6.05 0-3.344-2.655-6.052-5.909-6.052-3.264 0-5.908 2.72-5.908 6.051 0 3.332 2.644 6.051 5.908 6.051z"/>
                            </g>
                        </g>
                    </svg>
                </div>
            </div>
        </div>
    </div>
    <div class="Header-menu">
        <div class="wrap">
            <nav class="menuModal" id="navigate">
                <ul class="menu menu_main">
                    <li class="menu-item"><a class="menu-link" th:href="@{/admin/review}">Reviews</a> </li>
                    <li class="menu-item"><a class="menu-link" th:href="@{/admin/book}">Book</a>      </li>
                    <li class="menu-item" ><a class="menu-link" th:href="@{/admin/author}">Author</a> </li>
                    <li class="menu-item" ><a class="menu-link" th:href="@{/admin/registration}">Registration</a> </li>
                    <li class="menu-item"><a th:href="@{/logout}">
                        <img type="image" width="110px" height="50px" src="/assets/img/content/main/exit2.png" alt="exit2.png"/></a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
</header>
    <div class="Section-header">
        <h1 class="Section-title" style="margin-left: 8rem" th:text="${adminName} + ' --> Управление пользователем'" > </h1>
        <span id="message" style="background: limegreen; color: white; font-size: x-large; margin-right: 50%"></span>
    </div>
<!--<div class="ProductCard-look">-->
<table>
    <tr>
        <td>
            <div class="Contacts-form">
                <h2 style="margin-left: 10rem">Данные пользователя:</h2>

                <form class="form" name="newBook" action="#" method="post" th:action="@{/admin/users}"
                      th:object="${usersForm}">
                    <div class="form-group">
                        <label class="form-label" style="margin-left: 4rem">Id:</label>
                        <input class="form-input form-control select2-single" id="id" name="id" type="number"
                               placeholder="Введите идентификатор"
                               style="width: 6rem; border:2px solid #dadada; margin-left: 4rem"
                               th:field="*{id}"/>
                    </div>
                    <div class="form-group">
                        <label class="form-label" style="margin-left: 4rem">Name:</label>
                        <input class="form-input form-control select2-single" id="name" name="name" type="text"
                               placeholder="Введите имя"
                               style="width: 30rem; border:2px solid #dadada; margin-left: 4rem"
                               th:field="*{name}"/>
                    </div>
                    <div class="form-group">
                        <label class="form-label" style="margin-left: 4rem">Phone:</label>
                        <input class="form-input form-input_phone form-control select2-single" id="phone" name="phone"
                               type="text" placeholder="Введите телефон" data-mask="+7 (999) 999-99-99"
                               style="width: 30rem; border:2px solid #dadada; margin-left: 4rem"
                               th:field="*{phone}"/>
                    </div>
                    <div class="form-group">
                        <label class="form-label" style="margin-left: 4rem">Email:</label>
                        <input class="form-input form-input_mail form-control select2-single" id="mail" name="mail"
                               type="text" placeholder="Введите e-mail"
                               style="width: 30rem; border:2px solid #dadada; margin-left: 4rem"
                               th:field="*{email}"/>
                    </div>
                    <div class="form-group">
                        <button class="btn btn_primary form-btn" type="submit" style="margin-left: 15rem"
                                id="findUser">Найти
                        </button>
                    </div>
                </form>
            </div>
        </td>
    <!--                <td><input class="btn btn_primary form-btn" type="button" value="Одобрить" th:name="${review.id}" onclick="execute(this, name, 'approve')" ></td>-->


<!--</div>-->
        <td>
            <div class="ProductCard-desc form-group">
                <table id="userTable" style="border: 5px solid grey" >
                    <tr>
                        <th style="text-align: center; vertical-align: middle; width: 5rem">Id</th>
                        <th style="white-space: nowrap; text-align: center; vertical-align: middle">Имя</th>
                        <th style="white-space: nowrap; white-space: nowrap; text-align: center; vertical-align: middle">Телефон</th>
                        <th style="white-space: nowrap; text-align: center; vertical-align: middle">Email</th>
                        <th style="white-space: nowrap; text-align: center; vertical-align: middle"># oткл отзывов</th>
                        <th style="white-space: nowrap; text-align: center; vertical-align: middle"># книг куплено</th>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th></th>
                    </tr>
                    <tr>
                        <td th:style="${userFinded.status == 1? 'vertical-align: middle; background: #87d256' : 'vertical-align: middle; background: red'}"
                            th:if="${userFinded} != null" th:text="${userFinded.id}" id="idUser" >   </td>
                        <td style="white-space: nowrap; text-align: center; vertical-align: middle"
                            th:if="${userFinded} != null" th:text="${userFinded.name}"></td>
                        <td style="white-space: nowrap; text-align: center; vertical-align: middle"
                            th:if="${userFinded} != null" th:text="${userFinded.phone}"></td>
                        <td style="white-space: nowrap; text-align: center; vertical-align: middle"
                            th:if="${userFinded} != null" th:text="${userFinded.email}"></td>
                        <td style="white-space: nowrap; text-align: center; vertical-align: middle"
                            th:if="${userFinded} != null" th:text="${countReject}"></td>
                        <td style="white-space: nowrap; text-align: center; vertical-align: middle"
                            th:if="${userFinded} != null" th:text="${countBuy}"></td>
                        <td th:if="${userFinded} != null"><input class="image-button"
                                                                 th:name="${userFinded.id}"
                                                                 onclick="execute(this, name, 'active')"
                                                                 type="image"
                                                                 src="/assets/img/content/main/icon-chat-unblock.png"
                                                                 alt="icon-chat-unblock.png"
                        ></td>
                        <td th:if="${userFinded} != null"><input class="image-button"
                                                                 th:name="${userFinded.id}"
                                                                 onclick="execute(this, name, 'password')"
                                                                 type="image"
                                                                 src="/assets/img/content/main/icon-user-password3.png"
                                                                 alt="icon-user-password3.png"
                        ></td>
                        <td th:if="${userFinded} != null"><input class="image-button"
                                                                 th:name="${userFinded.id}"
                                                                 onclick="execute(this, name, 'block')"
                                                                 type="image"
                                                                 src="/assets/img/content/main/icon-chat-block2.png"
                                                                 alt="icon-chat-block2.png"
                        ></td>
                        <td th:if="${userFinded} != null"><input class="image-button"
                                                                 th:name="${userFinded.id}"
                                                                 onclick="execute(this, name, 'gift')"
                                                                 type="image"
                                                                 src="/assets/img/content/main/icon-book-gift.png"
                                                                 alt="icon-book-gift.png"></td>
                    </tr>
                </table>
            </div>
            <div class="ProductCard-desc form-group">
                <form class="form Profile-form Login Login_registration" action="#"
                      th:object="${usersForm}" method="post" id="changePassword" style="display: none">
                    <div class="row-block">
                        <div class="form-group">
                            <label class="form-label" for="password">Пароль
                            </label>
                            <input class="form-input" id="password" name="password" type="password" th:field="*{pass}"
                                   placeholder="Введите новый пароль"/>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="passwordReply">Подтверждение пароля
                            </label>
                            <input class="form-input" id="passwordReply" name="passwordReply" th:field="*{pass2}"
                                   type="password" placeholder="Введите новый пароль повторно"/>
                        </div>
                        <div class="form-group">
                            <div class="Profile-btn">
                                <button class="btn btn_danger" type="button" id="cancel">Отменить</button>
                                <button class="btn btn_primary" id="save" type="button">Сохранить</button>
                            </div>
                        </div>
                    </div>
                </form>

                <div style="display: none" id="selectBook">

                    <form class="form" name="newBook" action="#" method="post" >

                        <h2>Параметры поиска книги:</h2>

                        <div class="form-group">
                            <label class="form-label">Id:</label>
                            <input class="form-input form-control select2-single" id="idBook" name="idBook" type="text"
                                   style="width: 5rem; border:2px solid #dadada"
                                    placeholder="Введите Id"/>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Slug:</label>
                            <input class="form-input form-control select2-single" id="slug" name="slug" type="text"
                                   style="width: 15rem; border:2px solid #dadada"
                                    placeholder="Введите slug книги"/>
                        </div>

                        <div class="form-group">
                            <button class="btn btn_primary form-btn" type="button" name="giftBook"
                                    style="margin-top: auto" onclick="functionSelectBook()"
                                    id="giftBook">Выбрать
                            </button>

                            <button class="btn btn_danger" type="button" id="cancelSelectBook" style="margin-left: 1.9rem">Отменить</button>
                        </div>
                    </form>

                    <table id="bookTable" style="border: 3px solid grey">
                        <tr style="text-align: center; vertical-align: middle">

                            <th style="text-align: center; vertical-align: middle; width: 5rem">Id</th>
                            <th style="white-space: nowrap; white-space: nowrap; text-align: center; vertical-align: middle">Image</th>
                            <th style="white-space: nowrap; text-align: center; vertical-align: middle">Title</th>
                            <th style="white-space: nowrap; text-align: center; vertical-align: middle">Slug</th>
                            <th style="white-space: nowrap; text-align: center; vertical-align: middle">Price</th>
                            <th></th>
                            <th></th>
                        </tr>
                        <tr style="text-align: center; vertical-align: middle">
                            <td style="white-space: nowrap; text-align: center; vertical-align: middle" id="tableIdBook" ></td>
                            <td style="white-space: nowrap; text-align: center; vertical-align: middle" ><img id="tableImageBook"></td>
                            <td style="white-space: nowrap; text-align: center; vertical-align: middle" id="tableTitleBook"></td>
                            <td style="white-space: nowrap; text-align: center; vertical-align: middle" id="tableSlugBook"></td>
                            <td style="white-space: nowrap; text-align: center; vertical-align: middle" id="tablePriceBook"></td>

                            <td><input class="btn btn_primary form-btn" id="tableGiftButton"
                                       style="vertical-align: bottom; display: none"
                                       onclick="sendGiftFunction()" type="button" value="Подарить">
                            </td>
                            <td><input class="btn btn_danger" id="tableCancelButton"
                                       style="vertical-align: 50%; display: none"
                                       onclick="cancelGiftFunction()" type="button" value="Отменить">
                            </td>
                        </tr>
                    </table>

                </div>
            </div>
        </td>
    </tr>
</table>

<footer class="Footer">
    <div class="Footer-copy">
        <div class="wrap">© 2023 Bookshop Pty Ltd. ALL RIGHTS RESERVED
        </div>
    </div>
</footer>

<script src="/assets/plg/jQuery/jquery-3.5.1.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="/assets/js/checkEqualTwoTextsScript.js"></script>
<script src="/assets/js/usersPageScript.js"></script>

</body>
</html>